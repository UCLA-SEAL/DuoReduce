// /home/yqiu054/circt/llvm/build/bin/mlir-opt --int-range-optimizations 74234.mlir > 74234.out


mlir-opt: /home/yqiu054/circt/llvm/llvm/lib/Support/APInt.cpp:283: int llvm::APInt::compare(const llvm::APInt&) const: Assertion `BitWidth == RHS.BitWidth && "Bit widths must be same for comparison"' failed.
PLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.
Stack dump:
0.      Program arguments: /home/yqiu054/circt/llvm/build/bin/mlir-opt --int-range-optimizations 74234.mlir
 #0 0x000055917fc5cdaf llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x15c5daf)
 #1 0x000055917fc59e04 SignalHandler(int) Signals.cpp:0:0
 #2 0x00007fc6e70e0420 __restore_rt (/lib/x86_64-linux-gnu/libpthread.so.0+0x14420)
 #3 0x00007fc6e6bad00b raise (/lib/x86_64-linux-gnu/libc.so.6+0x4300b)
 #4 0x00007fc6e6b8c859 abort (/lib/x86_64-linux-gnu/libc.so.6+0x22859)
 #5 0x00007fc6e6b8c729 (/lib/x86_64-linux-gnu/libc.so.6+0x22729)
 #6 0x00007fc6e6b9dfd6 (/lib/x86_64-linux-gnu/libc.so.6+0x33fd6)
 #7 0x000055917fce8524 (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x1651524)
 #8 0x00005591841bd803 mlir::intrange::inferMaxU(llvm::ArrayRef<mlir::ConstantIntRanges>) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x5b26803)
 #9 0x00005591804807bc mlir::ConstantIntRanges llvm::function_ref<mlir::ConstantIntRanges (llvm::ArrayRef<mlir::ConstantIntRanges>)>::callback_fn<mlir::ConstantIntRanges (llvm::ArrayRef<mlir::ConstantIntRanges>)>(long, llvm::ArrayRef<mlir::ConstantIntRanges>) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x1de97bc)
#10 0x00005591841bee86 mlir::intrange::inferIndexOp(llvm::function_ref<mlir::ConstantIntRanges (llvm::ArrayRef<mlir::ConstantIntRanges>)>, llvm::ArrayRef<mlir::ConstantIntRanges>, mlir::intrange::CmpMode) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x5b27e86)
#11 0x00005591804817ec mlir::index::MaxUOp::inferResultRanges(llvm::ArrayRef<mlir::ConstantIntRanges>, llvm::function_ref<void (mlir::Value, mlir::ConstantIntRanges const&)>) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x1dea7ec)
#12 0x0000559180446cdd mlir::detail::InferIntRangeInterfaceInterfaceTraits::Model<mlir::index::MaxUOp>::inferResultRanges(mlir::detail::InferIntRangeInterfaceInterfaceTraits::Concept const*, mlir::Operation*, llvm::ArrayRef<mlir::ConstantIntRanges>, llvm::function_ref<void (mlir::Value, mlir::ConstantIntRanges const&)>) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x1dafcdd)
#13 0x00005591829d5761 mlir::dataflow::IntegerRangeAnalysis::visitOperation(mlir::Operation*, llvm::ArrayRef<mlir::dataflow::IntegerValueRangeLattice const*>, llvm::ArrayRef<mlir::dataflow::IntegerValueRangeLattice*>) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x433e761)
#14 0x00005591829dfbce mlir::dataflow::AbstractSparseForwardDataFlowAnalysis::visitOperation(mlir::Operation*) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x4348bce)
#15 0x00005591829e009b mlir::dataflow::AbstractSparseForwardDataFlowAnalysis::visit(mlir::ProgramPoint) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x434909b)
#16 0x000055918299084d mlir::DataFlowSolver::initializeAndRun(mlir::Operation*) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x42f984d)
#17 0x000055917ffa4265 (anonymous namespace)::IntRangeOptimizationsPass::runOnOperation() IntRangeOptimizations.cpp:0:0
#18 0x00005591829fadce mlir::detail::OpToOpPassAdaptor::run(mlir::Pass*, mlir::Operation*, mlir::AnalysisManager, bool, unsigned int) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x4363dce)
#19 0x00005591829fb2aa mlir::detail::OpToOpPassAdaptor::runPipeline(mlir::OpPassManager&, mlir::Operation*, mlir::AnalysisManager, bool, unsigned int, mlir::PassInstrumentor*, mlir::PassInstrumentation::PipelineParentInfo const*) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x43642aa)
#20 0x00005591829fba64 mlir::PassManager::run(mlir::Operation*) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x4364a64)
#21 0x00005591829ec823 performActions(llvm::raw_ostream&, std::shared_ptr<llvm::SourceMgr> const&, mlir::MLIRContext*, mlir::MlirOptMainConfig const&) MlirOptMain.cpp:0:0
#22 0x00005591829edda4 processBuffer(llvm::raw_ostream&, std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, mlir::MlirOptMainConfig const&, mlir::DialectRegistry&, llvm::ThreadPool*) MlirOptMain.cpp:0:0
#23 0x00005591829edf54 mlir::LogicalResult llvm::function_ref<mlir::LogicalResult (std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, llvm::raw_ostream&)>::callback_fn<mlir::MlirOptMain(llvm::raw_ostream&, std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, mlir::DialectRegistry&, mlir::MlirOptMainConfig const&)::'lambda'(std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, llvm::raw_ostream&)>(long, std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, llvm::raw_ostream&) MlirOptMain.cpp:0:0
#24 0x0000559182aeab04 mlir::splitAndProcessBuffer(std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, llvm::function_ref<mlir::LogicalResult (std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, llvm::raw_ostream&)>, llvm::raw_ostream&, bool, bool) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x4453b04)
#25 0x00005591829e63b7 mlir::MlirOptMain(llvm::raw_ostream&, std::unique_ptr<llvm::MemoryBuffer, std::default_delete<llvm::MemoryBuffer>>, mlir::DialectRegistry&, mlir::MlirOptMainConfig const&) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x434f3b7)
#26 0x00005591829ee0a1 mlir::MlirOptMain(int, char**, llvm::StringRef, llvm::StringRef, mlir::DialectRegistry&) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x43570a1)
#27 0x00005591829ee526 mlir::MlirOptMain(int, char**, llvm::StringRef, mlir::DialectRegistry&) (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x4357526)
#28 0x000055917fbba04b main (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x152304b)
#29 0x00007fc6e6b8e083 __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24083)
#30 0x000055917fc2c71e _start (/home/yqiu054/circt/llvm/build/bin/mlir-opt+0x159571e)
Aborted (core dumped)